<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BlackBelt Video Script Creator</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; font-family: Inter, system-ui, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    // Lucide icons as inline SVG components
    const Send = ({ size = 24, ...props }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <line x1="22" y1="2" x2="11" y2="13"></line>
        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
      </svg>
    );

    const Upload = ({ size = 24, ...props }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="17 8 12 3 7 8"></polyline>
        <line x1="12" y1="3" x2="12" y2="15"></line>
      </svg>
    );

    const Copy = ({ size = 24, ...props }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
    );

    const Check = ({ size = 24, ...props }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
    );

    const FileText = ({ size = 24, ...props }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="16" y1="13" x2="8" y2="13"></line>
        <line x1="16" y1="17" x2="8" y2="17"></line>
        <polyline points="10 9 9 9 8 9"></polyline>
      </svg>
    );

    const X = ({ size = 24, ...props }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    );

    const Sparkles = ({ size = 24, ...props }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M12 3v18m0-18l-3 6m3-6l3 6m-3 6l-3 6m3-6l3 6"></path>
      </svg>
    );

    const Loader2 = ({ size = 24, className = '', ...props }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
        <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
      </svg>
    );

    const colors = {
      black: '#000000',
      gold: '#EFBB39',
      blue: '#00A2FF',
      white: '#FFFFFF',
      grayLight: '#F5F5F5',
      grayMid: '#E0E0E0',
      grayDark: '#666666',
    };

    const blackBeltLogo = "data:image/webp;base64,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";

    const SYSTEM_PROMPT = `You are a Short-Form Video Script Creator for BlackBelt, helping coaches turn articles into scroll-stopping short-form videos.

PROCESS: Focus heavily on the Hook first - if the audience doesn't stop to watch, we're sunk. Ask one question at a time. Push back on weak hooks.

HOOK RULES:
- 3-5 seconds long
- Must spark curiosity  
- Clear and easy to understand
- Show the value

THE THREE C's (every hook needs all three):
1. Clarity - what value will the viewer get?
2. Context - who is involved, what's happening?
3. Curiosity - raise a question, hint at result

HOOK DELIVERY OPTIONS:
1. Vocal - start immediately, no "Hey my name is..."
2. Text block - linger 3+ seconds
3. Caption - prime real estate

ENGAGEMENT FOR HIGH-STATUS AUDIENCES (established coaches):
They will NOT reveal flaws publicly. Instead of "Do you struggle with this?" use "Which approach are you taking?" or "What have you figured out?"
Test: Would commenting make them look SMARTER or WEAKER? If weaker, revise.

WORKFLOW:
1. Suggest 3-5 hook options with rationale
2. Refine until hook is amazing
3. Suggest format options
4. Develop engagement strategy
5. Create ~1 minute script
6. Build storyboard with Location, Transition, Action, Script for each shot`;

    function BlackBeltVideoTool() {
      const [messages, setMessages] = useState([]);
      const [inputValue, setInputValue] = useState('');
      const [uploadedFile, setUploadedFile] = useState(null);
      const [fileContent, setFileContent] = useState('');
      const [isLoading, setIsLoading] = useState(false);
      const [copiedIndex, setCopiedIndex] = useState(null);
      const messagesEndRef = useRef(null);
      const fileInputRef = useRef(null);

      useEffect(() => {
        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
      }, [messages]);

      useEffect(() => {
        setMessages([{
          role: 'assistant',
          content: `Hey! I'm your Short-Form Video Script Creator. ðŸ‘Š

I'll help you turn your articles into scroll-stopping short-form videos with hooks that actually work for your coaching audience.

**Here's how we'll work together:**

1. Upload or paste your article
2. We'll nail the hook first (this is everything)
3. Choose a format that fits
4. Build engagement that respects your audience's status
5. Create the script and storyboard

Got an article ready? Drop it in and let's make something that stops the scroll.`
        }]);
      }, []);

      const handleSend = async () => {
        if (!inputValue.trim() && !fileContent) return;

        const userContent = fileContent 
          ? `Here's my article:\n\n${fileContent}${inputValue ? `\n\n${inputValue}` : ''}`
          : inputValue;

        const userMessage = {
          role: 'user',
          content: userContent,
          displayContent: inputValue || '(Article uploaded - ready for hook creation)',
          file: uploadedFile
        };

        const newMessages = [...messages, userMessage];
        setMessages(newMessages);
        setInputValue('');
        setUploadedFile(null);
        setFileContent('');
        setIsLoading(true);

        try {
          const conversationMessages = newMessages
            .filter(m => m.role === 'user' || m.role === 'assistant')
            .slice(1)
            .map(m => ({ role: m.role, content: m.content }));

          if (conversationMessages.length > 0 && conversationMessages[0].role === 'user') {
            conversationMessages[0].content = `[INSTRUCTIONS FOR THIS CONVERSATION]\n${SYSTEM_PROMPT}\n[END INSTRUCTIONS]\n\nUser request:\n${conversationMessages[0].content}`;
          }

          // This will be replaced by your backend proxy
          const response = await fetch("/api/claude", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              messages: conversationMessages
            })
          });

          const data = await response.json();

          if (data.content && data.content[0] && data.content[0].text) {
            setMessages(prev => [...prev, {
              role: 'assistant',
              content: data.content[0].text
            }]);
          }
        } catch (err) {
          console.error('Error:', err);
          setMessages(prev => [...prev, {
            role: 'assistant',
            content: `Something went wrong. Please try again.`
          }]);
        } finally {
          setIsLoading(false);
        }
      };

      const handleFileUpload = (e) => {
        const file = e.target.files[0];
        if (file) {
          setUploadedFile({ name: file.name });
          const reader = new FileReader();
          reader.onload = (e) => setFileContent(e.target.result);
          reader.readAsText(file);
        }
      };

      const handleCopy = async (content, index) => {
        await navigator.clipboard.writeText(content);
        setCopiedIndex(index);
        setTimeout(() => setCopiedIndex(null), 2000);
      };

      const formatMessage = (content) => {
        return content.split('\n').map((line, i) => {
          if (line.startsWith('## ')) return React.createElement('p', { key: i, className: "font-bold text-base mt-4 mb-2" }, line.slice(3));
          if (line.startsWith('### ')) return React.createElement('p', { key: i, className: "font-bold mt-3 mb-1" }, line.slice(4));
          if (line.startsWith('**') && line.endsWith('**')) return React.createElement('p', { key: i, className: "font-bold mt-3 mb-1" }, line.replace(/\*\*/g, ''));
          if (line.includes('**')) {
            const parts = line.split(/(\*\*.*?\*\*)/g);
            return React.createElement('p', { key: i, className: "mb-2" }, parts.map((part, j) => part.startsWith('**') ? React.createElement('strong', { key: j }, part.replace(/\*\*/g, '')) : part));
          }
          if (line.startsWith('- ')) return React.createElement('p', { key: i, className: "mb-1 pl-4" }, 'â€¢ ' + line.slice(2));
          if (/^\d+\.\s/.test(line)) return React.createElement('p', { key: i, className: "mb-1 pl-4" }, line);
          if (line.trim() === '') return React.createElement('div', { key: i, className: "h-2" });
          return React.createElement('p', { key: i, className: "mb-2" }, line);
        });
      };

      return (
        <div className="flex flex-col h-screen bg-gray-50" style={{ fontFamily: 'Inter, system-ui, sans-serif' }}>
          <div className="flex items-center justify-between px-6 py-3 shadow-sm" style={{ backgroundColor: colors.black }}>
            <div className="flex items-center gap-4">
              <img src={blackBeltLogo} alt="BlackBelt" className="h-10 w-auto" />
              <div className="h-6 w-px bg-gray-600" />
              <span className="text-sm font-medium" style={{ color: colors.grayMid }}>Short-Form Video Script Creator</span>
            </div>
            <div className="flex items-center gap-2 px-3 py-1.5 rounded-full text-sm" style={{ backgroundColor: 'rgba(239, 187, 57, 0.15)', color: colors.gold }}>
              <Sparkles size={14} />
              <span>Powered by Claude</span>
            </div>
          </div>

          <div className="flex-1 overflow-y-auto px-4 py-6">
            <div className="max-w-3xl mx-auto space-y-6">
              {messages.map((message, index) => (
                <div key={index} className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                  <div
                    className={`relative max-w-2xl rounded-2xl px-5 py-4 ${message.role === 'user' ? 'rounded-br-md' : 'rounded-bl-md'}`}
                    style={{
                      backgroundColor: message.role === 'user' ? colors.black : colors.white,
                      color: message.role === 'user' ? colors.white : colors.black,
                      boxShadow: message.role === 'assistant' ? '0 2px 8px rgba(0,0,0,0.08)' : 'none'
                    }}
                  >
                    {message.file && (
                      <div className="flex items-center gap-2 mb-3 p-2 rounded-lg" style={{ backgroundColor: 'rgba(255,255,255,0.1)' }}>
                        <FileText size={16} />
                        <span className="text-sm">{message.file.name}</span>
                      </div>
                    )}
                    <div className="text-sm leading-relaxed">
                      {formatMessage(message.displayContent || message.content)}
                    </div>
                    {message.role === 'assistant' && index > 0 && (
                      <button onClick={() => handleCopy(message.content, index)} className="absolute top-3 right-3 p-1.5 rounded-md hover:bg-gray-100">
                        {copiedIndex === index ? <Check size={14} style={{ color: colors.gold }} /> : <Copy size={14} style={{ color: colors.grayDark }} />}
                      </button>
                    )}
                  </div>
                </div>
              ))}
              
              {isLoading && (
                <div className="flex justify-start">
                  <div className="rounded-2xl rounded-bl-md px-5 py-4" style={{ backgroundColor: colors.white, boxShadow: '0 2px 8px rgba(0,0,0,0.08)' }}>
                    <div className="flex items-center gap-2">
                      <Loader2 size={16} className="animate-spin" style={{ color: colors.gold }} />
                      <span className="text-sm" style={{ color: colors.grayDark }}>Crafting your hooks...</span>
                    </div>
                  </div>
                </div>
              )}
              
              <div ref={messagesEndRef} />
            </div>
          </div>

          <div className="border-t px-4 py-4" style={{ backgroundColor: colors.white, borderColor: colors.grayMid }}>
            <div className="max-w-3xl mx-auto">
              {uploadedFile && (
                <div className="flex items-center justify-between mb-3 p-3 rounded-lg" style={{ backgroundColor: colors.grayLight }}>
                  <div className="flex items-center gap-2">
                    <FileText size={18} style={{ color: colors.blue }} />
                    <span className="text-sm font-medium">{uploadedFile.name}</span>
                    {fileContent && <Check size={14} style={{ color: '#22c55e' }} />}
                  </div>
                  <button onClick={() => { setUploadedFile(null); setFileContent(''); }} className="p-1 rounded hover:bg-gray-200">
                    <X size={16} style={{ color: colors.grayDark }} />
                  </button>
                </div>
              )}
              
              <div className="flex items-end gap-3 p-3 rounded-xl" style={{ backgroundColor: colors.grayLight }}>
                <input type="file" ref={fileInputRef} onChange={handleFileUpload} accept=".txt,.md" className="hidden" />
                <button onClick={() => fileInputRef.current?.click()} className="p-2 rounded-lg hover:bg-gray-200">
                  <Upload size={20} style={{ color: colors.grayDark }} />
                </button>
                
                <textarea
                  value={inputValue}
                  onChange={(e) => setInputValue(e.target.value)}
                  onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); handleSend(); }}}
                  placeholder={fileContent ? "Add any notes, or just hit send..." : "Paste your article or describe your video idea..."}
                  className="flex-1 bg-transparent resize-none outline-none text-sm"
                  style={{ minHeight: '24px', maxHeight: '150px' }}
                  rows={1}
                  disabled={isLoading}
                />
                
                <button
                  onClick={handleSend}
                  disabled={isLoading || (!inputValue.trim() && !fileContent)}
                  className="p-2 rounded-lg disabled:opacity-40"
                  style={{ 
                    backgroundColor: (inputValue.trim() || fileContent) && !isLoading ? colors.gold : 'transparent',
                    color: (inputValue.trim() || fileContent) && !isLoading ? colors.black : colors.grayDark
                  }}
                >
                  <Send size={20} />
                </button>
              </div>
              
              <p className="text-xs text-center mt-3" style={{ color: colors.grayDark }}>
                Free tool from BlackBelt â€¢ Powered by Claude
              </p>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.render(<BlackBeltVideoTool />, document.getElementById('root'));
  </script>
</body>
</html>